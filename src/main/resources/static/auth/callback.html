<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>OAuth2 Callback</title>
</head>
<body>
Processing...
<script>
    // 페이지가 로드되자마자 실행
    window.onload = function() {
        // 1. URL에서 토큰 파라미터를 추출
        const params = new URLSearchParams(window.location.search);
        const accessToken = params.get('accessToken');
        const refreshToken = params.get('refreshToken');

        if (accessToken && refreshToken) {
            // 2. 토큰을 로컬 스토리지에 저장
            localStorage.setItem('accessToken', accessToken);
            localStorage.setItem('refreshToken', refreshToken);

            // 3. 저장이 완료되면 메인 페이지로 리다이렉트
            window.location.href = '/';
        } else {
            // 토큰이 없는 경우 에러 처리 또는 로그인 페이지로 리다이렉트
            alert('로그인에 실패하였습니다.');
            window.location.href = '/';
        }
    };
</script>
</body>
</html>